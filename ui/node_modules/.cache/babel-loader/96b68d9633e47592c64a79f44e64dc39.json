{"remainingRequest":"/home/svw/vue_go_app/frontend/app/node_modules/babel-loader/lib/index.js!/home/svw/vue_go_app/frontend/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/svw/vue_go_app/frontend/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/svw/vue_go_app/frontend/app/src/views/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/svw/vue_go_app/frontend/app/src/views/Admin.vue","mtime":1594847359734},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0ICogYXMgRmlsZVNhdmVyIGZyb20gJ2ZpbGUtc2F2ZXInOwppbXBvcnQgKiBhcyBaaXAgZnJvbSAnanN6aXAnOwppbXBvcnQgKiBhcyBaaXBVdGlsIGZyb20gJ2pzemlwLXV0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBZG1pbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1hc2tfRGF0YTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0sCiAgICBvbkZpbGVTZWxlY3RlZDogZnVuY3Rpb24gb25GaWxlU2VsZWN0ZWQoZSkgewogICAgICB2YXIgZmlsZXMgPSBlLnRhcmdldC5maWxlczsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlcycsIGUudGFyZ2V0LmZpbGVzW2ldKTsKICAgICAgICBheGlvcy5wb3N0KCcvdXBsb2FkL2ltYWdlcycsIGZvcm1EYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOyAvL21vbmdvREIgc3R1ZmYKICAgICAgICAvLyBheGlvcy5wb3N0KCcvaW1hZ2UnLCB7CiAgICAgICAgLy8gICBpbWdOYW1lOiBmTmFtZSwKICAgICAgICAvLyAgIGltZ1R5cGU6IGZUeXBlLAogICAgICAgIC8vICAgaW1nU2l6ZTogZlNpemUKICAgICAgICAvLyB9KQogICAgICAgIC8vIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIC8vICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIC8vIH0sIChlcnJvcikgPT4gewogICAgICAgIC8vICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIC8vIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0RmlsZXM6IGZ1bmN0aW9uIGdldEZpbGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCcvaW1hZ2VMb2NhdGlvbi9tYXNrcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgX3RoaXMubWFza3NfRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdlbmVyYXRlWmlwOiBmdW5jdGlvbiBnZW5lcmF0ZVppcCgpIHsKICAgICAgdmFyIHppcCA9IG5ldyBaaXAoKTsgLy8gdmFyIGNvdW50ID0gMAoKICAgICAgZm9yICh2YXIgZm9sZGVyIGluIHRoaXMubWFza3NfRGF0YSkgewogICAgICAgIC8vIHZhciBteUYgPSBmb2xkZXIKICAgICAgICB2YXIgZm9sZGVyWmlwID0gemlwLmZvbGRlcihmb2xkZXIpOwogICAgICAgIHRoaXMubWFza3NfRGF0YVtmb2xkZXJdLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7CiAgICAgICAgICB2YXIgdXJsID0gIi9tYXNrcy8iLmNvbmNhdChmb2xkZXIsICIvIikuY29uY2F0KGZpbGVuYW1lKTsKICAgICAgICAgIFppcFV0aWwuZ2V0QmluYXJ5Q29udGVudCh1cmwsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHsKICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc29sZS5sb2coZm9sZGVyKTsKICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZW5hbWUpOwogICAgICAgICAgICBmb2xkZXJaaXAuZmlsZShmaWxlbmFtZSwgZGF0YSwgewogICAgICAgICAgICAgIGJpbmFyeTogdHJ1ZQogICAgICAgICAgICB9KTsgLy8gY291bnQrKwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHppcC5nZW5lcmF0ZUFzeW5jKHsKICAgICAgICB0eXBlOiAnYmxvYicKICAgICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIEZpbGVTYXZlci5zYXZlQXMoYmxvYiwgbmV3IERhdGUoRGF0ZS5ub3coKSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkuc3BsaXQoJy8nKS5qb2luKCctJykpOwogICAgICB9KTsKICAgIH0sCiAgICBmaWxlTGlzdDogZnVuY3Rpb24gZmlsZUxpc3QoKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcycpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA,SAAA,MAAA,YAAA;AACA,OAAA,KAAA,GAAA,MAAA,OAAA;AACA,OAAA,KAAA,OAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,CADA,EACA;AACA,MAAA,CAAA,CAAA,cAAA;AACA,KAHA;AAKA,IAAA,cALA,0BAKA,CALA,EAKA;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,QAAA,QAAA,CAAA,MAAA,CAAA,QAAA,EAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,gBAAA,EAAA,QAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,SAHA,EAGA,UAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,SALA,EAHA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5BA;AA8BA,IAAA,QA9BA,sBA8BA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAJA;AAKA,KApCA;AAsCA,IAAA,WAtCA,yBAsCA;AACA,UAAA,GAAA,GAAA,IAAA,GAAA,EAAA,CADA,CAEA;;AACA,WAAA,IAAA,MAAA,IAAA,KAAA,UAAA,EAAA;AACA;AACA,YAAA,SAAA,GAAA,GAAA,CAAA,MAAA,CAAA,MAAA,CAAA;AACA,aAAA,UAAA,CAAA,MAAA,EAAA,OAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,GAAA,oBAAA,MAAA,cAAA,QAAA,CAAA;AACA,UAAA,OAAA,CAAA,gBAAA,CAAA,GAAA,EAAA,UAAA,GAAA,EAAA,IAAA,EAAA;AACA,gBAAA,GAAA,EAAA;AACA,oBAAA,GAAA;AACA;;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,YAAA,SAAA,CAAA,IAAA,CAAA,QAAA,EAAA,IAAA,EAAA;AAAA,cAAA,MAAA,EAAA;AAAA,aAAA,EANA,CAOA;AACA,WARA;AASA,SAXA;AAYA;;AACA,MAAA,GAAA,CAAA,aAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,SAAA,CAAA,MAAA,CACA,IADA,EAEA,IAAA,IAAA,CAAA,IAAA,CAAA,GAAA,EAAA,EAAA,kBAAA,GAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,CAFA;AAIA,OALA;AAMA,KA/DA;AAiEA,IAAA,QAjEA,sBAiEA;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,8BAAA;AACA;AAnEA;AAPA,CAAA","sourcesContent":["<template>\n  <div class=\"Tool\">\n    <b-navbar type=\"dark\" variant=\"dark\">\n      <b-navbar-brand href=\"https://www.smartvisionworks.com/\"></b-navbar-brand>\n      <b-navbar-nav>\n          <input\n            style=\"display: none\"\n            name=\"myFiles\"\n            type=\"file\"\n            @change=\"onFileSelected\"\n            webkitdirectory\n            ref=\"fileInput\"/>\n          <b-button class=\"nav-bar-button\" @mousedown=\"preventDefault\" @click=\"$refs.fileInput.click()\">\n            Upload Files\n            <b-icon icon=\"folder-plus\" aria-hidden=\"true\"></b-icon>\n          </b-button>\n          <b-button class=\"nav-bar-button\" style=\"position: right\" @click=\"getFiles\">\n            Get Masks\n          </b-button>\n          <b-button class=\"nav-bar-button\" style=\"position: right\" @click=\"generateZip\">\n            <b-icon icon=\"download\" aria-hidden=\"true\"></b-icon>\n            <b-badge :variant=\"downloadColor\" v-if=\"numSaved > 0\">{{ numSaved + \" / \" + img_dir.length }}</b-badge>\n          </b-button>\n      </b-navbar-nav>\n    </b-navbar>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport * as FileSaver from 'file-saver'\nimport * as Zip from 'jszip'\nimport * as ZipUtil from 'jszip-utils'\n\nexport default {\n  name: 'Admin',\n  data () {\n    return {\n      mask_Data: null\n    }\n  },\n  methods: {\n    preventDefault (e) {\n      e.preventDefault()\n    },\n\n    onFileSelected (e) {\n      var files = e.target.files\n      for (let i = 0; i < files.length; i++) {\n        let formData = new FormData()\n        formData.append('images', e.target.files[i])\n        axios.post('/upload/images', formData)\n        .then((response) => {\n          console.log(response);\n        }, (error) => {\n          console.log(error);\n        });\n          //mongoDB stuff\n        // axios.post('/image', {\n        //   imgName: fName,\n        //   imgType: fType,\n        //   imgSize: fSize\n        // })\n        // .then((response) => {\n        //   console.log(response);\n        // }, (error) => {\n        //   console.log(error);\n        // });\n      }\n    },\n\n    getFiles () {\n      axios.get('/imageLocation/masks')\n      .then((response) => {\n        console.log(response.data);\n        this.masks_Data = response.data\n      })\n    },\n\n    generateZip () {\n      var zip = new Zip()\n      // var count = 0\n      for (var folder in this.masks_Data) {\n        // var myF = folder\n        var folderZip = zip.folder(folder)\n        this.masks_Data[folder].forEach(function (filename) {\n          var url = `/masks/${folder}/${filename}`\n          ZipUtil.getBinaryContent(url, function (err, data) {\n            if (err) {\n              throw err\n            }\n            console.log(folder)\n            console.log(filename)\n            folderZip.file(filename, data, {binary: true})\n            // count++\n          })\n        })\n      }\n      zip.generateAsync({type: 'blob'}).then(function (blob) {\n        FileSaver.saveAs(\n          blob, \n          new Date(Date.now()).toLocaleDateString().split('/').join('-')\n        )\n      })\n    },\n\n    fileList () {\n      axios.get('http://localhost:8080/images')\n    }\n  }\n\n\n}\n</script>\n\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #539ecf;\n}\ncanvas {\n  background-color: #343a40;\n  border: 10px !important;\n  border-color: #343a40;\n  margin: 2px;\n}\n.file-viewer {\n  box-shadow: none !important;\n  border: none !important;\n  font-size: small !important;\n}\n.navbar-brand {\n  width: 16.6666%;\n  height: 60px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  padding: 25px 0;\n  float: left;\n  transition: all 0.3s ease;\n  background-image: url(../assets/name.svg);\n  color: rgba(255, 255, 255, 0.8);\n}\n.nav-bar-button {\n  background-color: transparent !important;\n  border-color: transparent !important;\n}\n.nav-bar-button:hover {\n  background-color: #5a6268 !important;\n  border-color: #5a6268 !important;\n}\n.b-sidebar-body{\n  background-color: black !important;\n}\n</style>"],"sourceRoot":"src/views"}]}