{"remainingRequest":"/home/svw/vue_go_app/frontend/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/svw/vue_go_app/frontend/app/src/views/Admin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/svw/vue_go_app/frontend/app/src/views/Admin.vue","mtime":1594847359734},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/svw/vue_go_app/frontend/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0ICogYXMgRmlsZVNhdmVyIGZyb20gJ2ZpbGUtc2F2ZXInCmltcG9ydCAqIGFzIFppcCBmcm9tICdqc3ppcCcKaW1wb3J0ICogYXMgWmlwVXRpbCBmcm9tICdqc3ppcC11dGlscycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRtaW4nLAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFza19EYXRhOiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmV2ZW50RGVmYXVsdCAoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgIH0sCgogICAgb25GaWxlU2VsZWN0ZWQgKGUpIHsKICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZXMnLCBlLnRhcmdldC5maWxlc1tpXSkKICAgICAgICBheGlvcy5wb3N0KCcvdXBsb2FkL2ltYWdlcycsIGZvcm1EYXRhKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0sIChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICAgICAgLy9tb25nb0RCIHN0dWZmCiAgICAgICAgLy8gYXhpb3MucG9zdCgnL2ltYWdlJywgewogICAgICAgIC8vICAgaW1nTmFtZTogZk5hbWUsCiAgICAgICAgLy8gICBpbWdUeXBlOiBmVHlwZSwKICAgICAgICAvLyAgIGltZ1NpemU6IGZTaXplCiAgICAgICAgLy8gfSkKICAgICAgICAvLyAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAvLyB9LCAoZXJyb3IpID0+IHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAvLyB9KTsKICAgICAgfQogICAgfSwKCiAgICBnZXRGaWxlcyAoKSB7CiAgICAgIGF4aW9zLmdldCgnL2ltYWdlTG9jYXRpb24vbWFza3MnKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB0aGlzLm1hc2tzX0RhdGEgPSByZXNwb25zZS5kYXRhCiAgICAgIH0pCiAgICB9LAoKICAgIGdlbmVyYXRlWmlwICgpIHsKICAgICAgdmFyIHppcCA9IG5ldyBaaXAoKQogICAgICAvLyB2YXIgY291bnQgPSAwCiAgICAgIGZvciAodmFyIGZvbGRlciBpbiB0aGlzLm1hc2tzX0RhdGEpIHsKICAgICAgICAvLyB2YXIgbXlGID0gZm9sZGVyCiAgICAgICAgdmFyIGZvbGRlclppcCA9IHppcC5mb2xkZXIoZm9sZGVyKQogICAgICAgIHRoaXMubWFza3NfRGF0YVtmb2xkZXJdLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7CiAgICAgICAgICB2YXIgdXJsID0gYC9tYXNrcy8ke2ZvbGRlcn0vJHtmaWxlbmFtZX1gCiAgICAgICAgICBaaXBVdGlsLmdldEJpbmFyeUNvbnRlbnQodXJsLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7CiAgICAgICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgICB0aHJvdyBlcnIKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZyhmb2xkZXIpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVuYW1lKQogICAgICAgICAgICBmb2xkZXJaaXAuZmlsZShmaWxlbmFtZSwgZGF0YSwge2JpbmFyeTogdHJ1ZX0pCiAgICAgICAgICAgIC8vIGNvdW50KysKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfQogICAgICB6aXAuZ2VuZXJhdGVBc3luYyh7dHlwZTogJ2Jsb2InfSkudGhlbihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIEZpbGVTYXZlci5zYXZlQXMoCiAgICAgICAgICBibG9iLCAKICAgICAgICAgIG5ldyBEYXRlKERhdGUubm93KCkpLnRvTG9jYWxlRGF0ZVN0cmluZygpLnNwbGl0KCcvJykuam9pbignLScpCiAgICAgICAgKQogICAgICB9KQogICAgfSwKCiAgICBmaWxlTGlzdCAoKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2ltYWdlcycpCiAgICB9CiAgfQoKCn0K"},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"Tool\">\n    <b-navbar type=\"dark\" variant=\"dark\">\n      <b-navbar-brand href=\"https://www.smartvisionworks.com/\"></b-navbar-brand>\n      <b-navbar-nav>\n          <input\n            style=\"display: none\"\n            name=\"myFiles\"\n            type=\"file\"\n            @change=\"onFileSelected\"\n            webkitdirectory\n            ref=\"fileInput\"/>\n          <b-button class=\"nav-bar-button\" @mousedown=\"preventDefault\" @click=\"$refs.fileInput.click()\">\n            Upload Files\n            <b-icon icon=\"folder-plus\" aria-hidden=\"true\"></b-icon>\n          </b-button>\n          <b-button class=\"nav-bar-button\" style=\"position: right\" @click=\"getFiles\">\n            Get Masks\n          </b-button>\n          <b-button class=\"nav-bar-button\" style=\"position: right\" @click=\"generateZip\">\n            <b-icon icon=\"download\" aria-hidden=\"true\"></b-icon>\n            <b-badge :variant=\"downloadColor\" v-if=\"numSaved > 0\">{{ numSaved + \" / \" + img_dir.length }}</b-badge>\n          </b-button>\n      </b-navbar-nav>\n    </b-navbar>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport * as FileSaver from 'file-saver'\nimport * as Zip from 'jszip'\nimport * as ZipUtil from 'jszip-utils'\n\nexport default {\n  name: 'Admin',\n  data () {\n    return {\n      mask_Data: null\n    }\n  },\n  methods: {\n    preventDefault (e) {\n      e.preventDefault()\n    },\n\n    onFileSelected (e) {\n      var files = e.target.files\n      for (let i = 0; i < files.length; i++) {\n        let formData = new FormData()\n        formData.append('images', e.target.files[i])\n        axios.post('/upload/images', formData)\n        .then((response) => {\n          console.log(response);\n        }, (error) => {\n          console.log(error);\n        });\n          //mongoDB stuff\n        // axios.post('/image', {\n        //   imgName: fName,\n        //   imgType: fType,\n        //   imgSize: fSize\n        // })\n        // .then((response) => {\n        //   console.log(response);\n        // }, (error) => {\n        //   console.log(error);\n        // });\n      }\n    },\n\n    getFiles () {\n      axios.get('/imageLocation/masks')\n      .then((response) => {\n        console.log(response.data);\n        this.masks_Data = response.data\n      })\n    },\n\n    generateZip () {\n      var zip = new Zip()\n      // var count = 0\n      for (var folder in this.masks_Data) {\n        // var myF = folder\n        var folderZip = zip.folder(folder)\n        this.masks_Data[folder].forEach(function (filename) {\n          var url = `/masks/${folder}/${filename}`\n          ZipUtil.getBinaryContent(url, function (err, data) {\n            if (err) {\n              throw err\n            }\n            console.log(folder)\n            console.log(filename)\n            folderZip.file(filename, data, {binary: true})\n            // count++\n          })\n        })\n      }\n      zip.generateAsync({type: 'blob'}).then(function (blob) {\n        FileSaver.saveAs(\n          blob, \n          new Date(Date.now()).toLocaleDateString().split('/').join('-')\n        )\n      })\n    },\n\n    fileList () {\n      axios.get('http://localhost:8080/images')\n    }\n  }\n\n\n}\n</script>\n\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #539ecf;\n}\ncanvas {\n  background-color: #343a40;\n  border: 10px !important;\n  border-color: #343a40;\n  margin: 2px;\n}\n.file-viewer {\n  box-shadow: none !important;\n  border: none !important;\n  font-size: small !important;\n}\n.navbar-brand {\n  width: 16.6666%;\n  height: 60px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 100%;\n  padding: 25px 0;\n  float: left;\n  transition: all 0.3s ease;\n  background-image: url(../assets/name.svg);\n  color: rgba(255, 255, 255, 0.8);\n}\n.nav-bar-button {\n  background-color: transparent !important;\n  border-color: transparent !important;\n}\n.nav-bar-button:hover {\n  background-color: #5a6268 !important;\n  border-color: #5a6268 !important;\n}\n.b-sidebar-body{\n  background-color: black !important;\n}\n</style>"]}]}